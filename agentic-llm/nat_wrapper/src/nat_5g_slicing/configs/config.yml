# SPDX-FileCopyrightText: Copyright (c) 2024-2025, NVIDIA CORPORATION & AFFILIATES. All rights reserved.
# SPDX-License-Identifier: Apache-2.0

# 5G Network Management Function Groups
function_groups:
  network_tools:
    _type: network_tools
    include:
      - reconfigure_network
      - get_packetloss_logs
    kinetica_host: ${KINETICA_HOST:-localhost:9191}
    kinetica_username: ${KINETICA_USERNAME:-admin}
    kinetica_password: ${KINETICA_PASSWORD:-admin}
    kinetica_schema: ${KINETICA_SCHEMA:-nvidia_gtc_dli_2025}
    iperf_table_name: ${IPERF3_RANDOM_TABLE_NAME:-nvidia_gtc_dli_2025.iperf3_logs}
    reconfig_script_path: ${RECONFIG_SCRIPT_PATH:-../llm-slicing-5g-lab/docker/change_rc_slice_docker.sh}

    # Profiling Configuration
    profiling_enabled: ${PROFILING_ENABLED:-true}
    profiling_output_dir: ${PROFILING_OUTPUT_DIR:-./profiles}
    slow_warning_threshold_ms: ${SLOW_WARNING_THRESHOLD_MS:-5000}

    # Guardrails Configuration
    guardrails_enabled: ${GUARDRAILS_ENABLED:-true}
    validation_mode: ${VALIDATION_MODE:-strict}

    # Phoenix Observability Configuration
    # NOTE: Phoenix is disabled by default due to package compatibility issues
    # Enable with: export PHOENIX_ENABLED=true (requires compatible Phoenix version)
    phoenix_enabled: ${PHOENIX_ENABLED:-false}
    phoenix_endpoint: ${PHOENIX_ENDPOINT:-http://0.0.0.0:6006}
    phoenix_project_name: ${PHOENIX_PROJECT_NAME:-5g-network-agent}
    phoenix_service_name: ${PHOENIX_SERVICE_NAME:-nat-5g-agent}
    phoenix_environment: ${PHOENIX_ENVIRONMENT:-production}

# LLM Configuration
llms:
  nvidia_nim:
    _type: nim
    model_name: ${NVIDIA_AI_MODEL_NAME:-meta/llama-3.1-70b-instruct}
    temperature: 0.0
    max_tokens: 2048
    base_url: https://integrate.api.nvidia.com/v1

# Workflow Configuration (ReAct Agent)
workflow:
  _type: react_agent
  tool_names:
    - network_tools
  llm_name: nvidia_nim
  verbose: true
  parse_agent_response_max_retries: 3
  max_iterations: 15